From f21d487e74bfa5eb3ea65d4ee200e66a6624648f Mon Sep 17 00:00:00 2001
From: Even Rouault <even.rouault@spatialys.com>
Date: Sat, 13 May 2023 22:33:41 +0200
Subject: [PATCH] autotest/osr: make it work with latest PROJ master

---
 autotest/osr/osr_compd.py | 5 +++++
 autotest/osr/osr_proj4.py | 5 +++++
 2 files changed, 10 insertions(+)

diff --git a/autotest/osr/osr_compd.py b/autotest/osr/osr_compd.py
index 4a55a946d03..15144941b60 100755
--- a/autotest/osr/osr_compd.py
+++ b/autotest/osr/osr_compd.py
@@ -267,6 +267,11 @@ def test_osr_compd_6():
         "Unknown based on GRS80 ellipsoid using towgs84=0,0,0,0,0,0,0",
         "Unknown_based_on_GRS80_ellipsoid",
     )
+    # PROJ >= 9.2.1 returns the below
+    wkt = wkt.replace(
+        "Unknown based on GRS 1980 ellipsoid using towgs84=0,0,0,0,0,0,0",
+        "Unknown_based_on_GRS80_ellipsoid",
+    )
     wkt = wkt.replace(
         "unknown using geoidgrids=g2003conus.gtx,g2003alaska.gtx,g2003h01.gtx,g2003p01.gtx",
         "unknown",
diff --git a/autotest/osr/osr_proj4.py b/autotest/osr/osr_proj4.py
index f5d14e65290..5c511a9fb1e 100755
--- a/autotest/osr/osr_proj4.py
+++ b/autotest/osr/osr_proj4.py
@@ -229,6 +229,11 @@ def test_osr_proj4_10():
         "Unknown based on WGS84 ellipsoid using towgs84=0,0,0,0,0,0,0",
         "Unknown_based_on_WGS84_ellipsoid",
     )
+    # PROJ >= 9.2.1 returns the below
+    wkt = wkt.replace(
+        "Unknown based on WGS 84 ellipsoid using towgs84=0,0,0,0,0,0,0",
+        "Unknown_based_on_WGS84_ellipsoid",
+    )
 
     assert gdaltest.equal_srs_from_wkt(wkt_expected, wkt), "did not get expected wkt."
 
